<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>weather api(weather), getjson</title>
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <script>
      // $.getJSON("demo_ajax_json.js", function(result){
      //     //w3school 참조
      //     });
      $.getJSON(
        "http://api.openweathermap.org/data/2.5/weather?id=1835848&appid=800f01ebf3630c060b1b2c206fd77b8c&units=metric",
        function (result) {
          //                                weather현재날씨 /id=1835848대신 q=Seoul써도 ㅇㅋ

          let $ctemp = result.main.temp;
          let $mintemp = result.main.temp_min;
          let $maxtemp = result.main.temp_max;
          let $cicon = result.weather[0].icon;

          //현재시간을 따로 구해야 함
          let $now = new Date();
          let $cDate = `${$now.getFullYear()}-${
            $now.getMonth() + 1
          }-${$now.getDate()} / ${$now.getHours()} : ${$now.getMinutes()}`;

          $(".ctemp").append($ctemp);
          $(".clowtemp").append($mintemp);
          $(".chightemp").append($maxtemp);
          $("h2").prepend($cDate);
          // $('.cicon').append($cicon);
          $(".cicon").append(
            `<img src =https://openweathermap.org/img/wn/${$cicon}@2x.png>`
          );
        }
      );
    </script>
  </head>
  <body>
    <!-- openweathermap예보 CityCode&APIkey&섭씨온도 ↓ -->
    <!-- http://api.openweathermap.org/data/2.5/forecast?id=1835848&appid=800f01ebf3630c060b1b2c206fd77b8c&units=metric -->
    <h1>weather api</h1>
    <h2>| 날씨예보</h2>
    <div class="ctemp">현재 온도:</div>
    <div class="clowtemp">최저 온도:</div>
    <div class="chightemp">최고 온도:</div>
    <div class="cicon">아이콘 :</div>
  </body>
</html>
